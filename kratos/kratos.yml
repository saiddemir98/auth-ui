# kratos.yml


dsn: memory

serve:
  public:
    cors:
      enabled: true
      allowed_origins:
        - http://localhost:3000
      allowed_methods:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS
        - PATCH
      allowed_headers:
        - Content-Type
        - Authorization
    base_url: http://localhost:4433

feature_flags:
  use_continue_with_transitions: true

selfservice:
  methods:
    oidc:
      config:
        providers:
          - id: google
            provider: google
            client_id: asdasdasdadasd
            client_secret: asdasdasdad
            issuer_url: https://accounts.google.com
            mapper_url: "base64://bG9jYWwgY2xhaW1zID0gc3RkLmV4dFZhcignY2xhaW1zJyk7DQoNCnsNCiAgaWRlbnRpdHk6IHsNCiAgICB0cmFpdHM6IHsNCiAgICAgIG5hbWU6IHsNCiAgICAgICAgW2lmICdnaXZlbl9uYW1lJyBpbiBjbGFpbXMgdGhlbiAnZmlyc3QnIGVsc2UgbnVsbF06IGNsYWltcy5naXZlbl9uYW1lLA0KICAgICAgICBbaWYgJ2ZhbWlseV9uYW1lJyBpbiBjbGFpbXMgdGhlbiAnbGFzdCcgZWxzZSBudWxsXTogY2xhaW1zLmZhbWlseV9uYW1lLA0KICAgICAgfSwNCiAgICAgIFtpZiAnZW1haWwnIGluIGNsYWltcyAmJiBjbGFpbXMuZW1haWxfdmVyaWZpZWQgdGhlbiAnZW1haWwnIGVsc2UgbnVsbF06IGNsYWltcy5lbWFpbCwNCiAgICB9LA0KICB9LA0KfQ=="
            scope:
              - openid
              - email
              - profile
          - id: facebook
            provider: facebook
            client_id: asdasdasdad
            client_secret: asdasdasdad
            issuer_url: https://accounts.google.com
            mapper_url: "base64://bG9jYWwgY2xhaW1zID0gc3RkLmV4dFZhcignY2xhaW1zJyk7DQoNCnsNCiAgaWRlbnRpdHk6IHsNCiAgICB0cmFpdHM6IHsNCiAgICAgIG5hbWU6IHsNCiAgICAgICAgW2lmICdnaXZlbl9uYW1lJyBpbiBjbGFpbXMgdGhlbiAnZmlyc3QnIGVsc2UgbnVsbF06IGNsYWltcy5naXZlbl9uYW1lLA0KICAgICAgICBbaWYgJ2ZhbWlseV9uYW1lJyBpbiBjbGFpbXMgdGhlbiAnbGFzdCcgZWxzZSBudWxsXTogY2xhaW1zLmZhbWlseV9uYW1lLA0KICAgICAgfSwNCiAgICAgIFtpZiAnZW1haWwnIGluIGNsYWltcyAmJiBjbGFpbXMuZW1haWxfdmVyaWZpZWQgdGhlbiAnZW1haWwnIGVsc2UgbnVsbF06IGNsYWltcy5lbWFpbCwNCiAgICB9LA0KICB9LA0KfQ=="
            scope:
              - openid
              - email
              - profile
          - id: apple
            provider: apple
            client_id: dummy-client-id
            apple_private_key_id: DUMMY_KEY_ID
            apple_private_key: "DUMMY_PRIVATE_KEY"
            apple_team_id: "DUMMY_TEAM_ID"
            mapper_url: "base64://ZHVtbXkgbWFwcGVyIHVybA=="

      enabled: true
  default_browser_return_url: http://localhost:3000
  allowed_return_urls:
    - http://localhost:3000
  flows:
    registration:
      enabled: true
      lifespan: 1h
      ui_url: http://localhost:3000/registration
      
    login:
      lifespan: 1h
      ui_url: http://localhost:3000/login
      
    logout:
      after:
        default_browser_return_url: http://localhost:3000/login
        
    recovery: #Şifre kurtarma Flowunu açar
      enabled: true #Hizmet aktif olsun mu
      lifespan: 15m #Mailin Geeçerlilik Süresi
      ui_url: http://localhost:3000/recovery #Browserlarda başarılı olursa nereye yönlendirilmeli?
      use: code #Mailin İçeriğinde Code mu olsun Link mi olsun onu belirler. "link"-"code"
      notify_unknown_recipients: false #İletilemeyen mailler bildirilsin mi

    
    
    verification: #Mail Doğrulama Flowunu açar
      lifespan: 15m #Mailin Geeçerlilik Süresi
      use: code #Mailin İçeriğinde Code mu olsun Link mi olsun onu belirler. "link"-"code"
      notify_unknown_recipients: false #İletilemeyen mailler bildirilsin mi
      enabled: true #Hizmet aktif olsun mu
      ui_url: http://localhost:3000/verification
      
      
    settings:
      lifespan: 1h
      privileged_session_max_age: 1h
      required_aal: highest_available
      ui_url: http://localhost:3000/settings
      
    error:
      ui_url: http://localhost:3000/error


identity:
  default_schema_id: default
  schemas:
    - id: default
      url: file:///etc/config/kratos/identity.schema.json




log:
  level: warning
  format: json

secrets:
  cookie:
    - PLEASE-CHANGE-ME-I-AM-VERY-INSECURE
  cipher:
    - 32-LONG-SECRET-NOT-SECURE-AT-ALL

ciphers:
  algorithm: xchacha20-poly1305

hashers:
  algorithm: bcrypt
  bcrypt:
    cost: 8



  











    
# dsn: memory #postgres://postgres:postgres@host.docker.internal:5432/ory?sslmode=disable

# serve:
#   public:
#     base_url: http://localhost:4433


# hashers:
#   algorithm: bcrypt
#   bcrypt:
#     cost: 8

# session:
#   lifespan: 24h
#   cookie:
#     domain: localhost
#     path: /
#     same_site: Lax

# identity:
#   default_schema_url: file:///etc/config/kratos/identity.schema.json

# selfservice:
#   default_browser_return_url: http://localhost:3000

#   flows:
#     registration:
#       ui_url: http://localhost:3000/register
#       lifespan: "1h"

#     login:
#       ui_url: http://localhost:3000/login
#       lifespan: "1h"

#     recovery:
#       ui_url: http://localhost:3000/recovery
#       lifespan: "1h"